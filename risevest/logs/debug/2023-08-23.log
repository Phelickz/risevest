2023-08-23 20:59:26 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 21:00:44 info: =================================
2023-08-23 21:00:44 info: ======= ENV: development =======
2023-08-23 21:00:44 info: ðŸš€ App listening on the port 3000
2023-08-23 21:00:44 info: =================================
2023-08-23 21:00:44 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 21:00:44 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 21:44:57 info: =================================
2023-08-23 21:44:57 info: ======= ENV: development =======
2023-08-23 21:44:57 info: ðŸš€ App listening on the port 3000
2023-08-23 21:44:57 info: =================================
2023-08-23 21:44:57 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 21:44:57 info: 8ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 21:44:57 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 21:44:57 info: 48ms Executed (default): DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';
2023-08-23 21:44:57 info: 3ms Executed (default): WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));
2023-08-23 21:44:57 info: 7ms Executed (default): CREATE TABLE IF NOT EXISTS "users" ("id" UUID , "email" VARCHAR(45) NOT NULL, "password" VARCHAR(255) NOT NULL, "username" VARCHAR(255), "online" BOOLEAN NOT NULL DEFAULT false, "last_login" TIMESTAMP WITH TIME ZONE, "logout_timestamp" TIMESTAMP WITH TIME ZONE, "role" "public"."enum_users_role" NOT NULL DEFAULT 'USER', "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
2023-08-23 21:44:57 info: 3ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:44:57 info: 1ms Executed (default): CREATE UNIQUE INDEX "users_username" ON "users" ("username")
2023-08-23 21:44:57 info: 0ms Executed (default): CREATE UNIQUE INDEX "users_email" ON "users" ("email")
2023-08-23 21:44:57 info: 0ms Executed (default): CREATE INDEX "users_role" ON "users" ("role")
2023-08-23 21:44:57 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 21:44:57 info: 3ms Executed (default): CREATE TABLE IF NOT EXISTS "posts" ("id" UUID , "content" TEXT NOT NULL, "title" TEXT NOT NULL, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, "user_model_id" UUID REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE, PRIMARY KEY ("id"));
2023-08-23 21:44:57 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:50:05 info: =================================
2023-08-23 21:50:05 info: ======= ENV: development =======
2023-08-23 21:50:05 info: ðŸš€ App listening on the port 3000
2023-08-23 21:50:05 info: =================================
2023-08-23 21:50:05 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 21:50:05 info: 3ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 21:50:05 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 21:50:05 info: 7ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 21:50:05 info: 15ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 21:50:05 info: 5ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 21:50:05 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 21:50:05 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 21:50:05 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 21:50:05 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:05 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:05 info: 8ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 21:50:05 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:05 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:05 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:50:05 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 21:50:05 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 21:50:05 info: 5ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 21:50:05 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 21:50:05 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 21:50:05 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:05 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:05 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_model_id_fkey"
2023-08-23 21:50:05 info: 3ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_model_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 21:50:05 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:50:05 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 21:50:05 info: 4ms Executed (default): CREATE TABLE IF NOT EXISTS "comments" ("id" UUID , "content" TEXT NOT NULL, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, "user_model_id" UUID REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE, "post_model_id" UUID REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE, PRIMARY KEY ("id"));
2023-08-23 21:50:05 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:50:38 info: =================================
2023-08-23 21:50:38 info: ======= ENV: development =======
2023-08-23 21:50:38 info: ðŸš€ App listening on the port 3000
2023-08-23 21:50:38 info: =================================
2023-08-23 21:50:38 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 21:50:38 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 21:50:38 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 21:50:38 info: 27ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 21:50:38 info: 31ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 21:50:38 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 21:50:38 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 21:50:38 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 21:50:38 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 21:50:38 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:38 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:38 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 21:50:38 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:38 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:38 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:50:38 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 21:50:38 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 21:50:38 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 21:50:38 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 21:50:38 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 21:50:38 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:38 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:50:38 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_model_id_fkey"
2023-08-23 21:50:38 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_model_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 21:50:38 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:52:15 info: =================================
2023-08-23 21:52:15 info: ======= ENV: development =======
2023-08-23 21:52:15 info: ðŸš€ App listening on the port 3000
2023-08-23 21:52:15 info: =================================
2023-08-23 21:52:15 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 21:52:15 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 21:52:15 info: 0ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 21:52:15 info: 5ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 21:52:15 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 21:52:15 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 21:52:15 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 21:52:15 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:52:15 info: 8ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:52:15 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:52:15 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 21:52:15 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 21:52:15 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 21:52:15 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_model_id_fkey"
2023-08-23 21:52:15 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_model_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 21:52:15 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:52:15 info: 1ms Executed (default): CREATE INDEX "posts_user_model_id" ON "posts" ("user_model_id")
2023-08-23 21:52:15 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 21:52:15 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 21:52:15 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 21:52:15 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:52:15 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_model_id_fkey"
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_model_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 21:52:15 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_model_id_fkey"
2023-08-23 21:52:15 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_model_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 21:52:15 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:53:36 info: =================================
2023-08-23 21:53:36 info: ======= ENV: development =======
2023-08-23 21:53:36 info: ðŸš€ App listening on the port 3000
2023-08-23 21:53:36 info: =================================
2023-08-23 21:53:36 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 21:53:36 info: 2ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 21:53:36 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 21:53:36 info: 6ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 21:53:36 info: 12ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 21:53:36 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 21:53:36 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 21:53:36 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 21:53:36 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 21:53:36 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:53:36 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:53:36 info: 7ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 21:53:36 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:53:36 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:53:36 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:53:36 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 21:53:36 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 21:53:36 info: 5ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 21:53:36 info: 2ms Executed (default): ALTER TABLE "public"."posts" ADD COLUMN "user_id" UUID REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 21:53:36 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 21:53:36 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 21:53:36 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:53:36 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:53:36 info: 1ms Executed (default): ALTER TABLE "public"."posts" DROP COLUMN "user_model_id";
2023-08-23 21:53:36 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:55:21 info: =================================
2023-08-23 21:55:21 info: ======= ENV: development =======
2023-08-23 21:55:21 info: ðŸš€ App listening on the port 3000
2023-08-23 21:55:21 info: =================================
2023-08-23 21:55:21 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 21:55:21 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 21:55:21 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 21:55:21 info: 12ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 21:55:21 info: 15ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 21:55:21 info: 5ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 21:55:21 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:55:21 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:55:21 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:55:21 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 21:55:21 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 21:55:21 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 21:55:21 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:55:21 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 21:55:21 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 21:55:21 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:55:21 info: 1ms Executed (default): CREATE INDEX "posts_user_id" ON "posts" ("user_id")
2023-08-23 21:55:21 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 21:55:21 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 21:55:21 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "public"."comments" ADD COLUMN "user_id" UUID REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "public"."comments" ADD COLUMN "post_id" UUID REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 21:55:21 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "public"."comments" DROP COLUMN "user_model_id";
2023-08-23 21:55:21 info: 0ms Executed (default): ALTER TABLE "public"."comments" DROP COLUMN "post_model_id";
2023-08-23 21:55:21 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 21:55:21 info: 0ms Executed (default): CREATE INDEX "comments_user_id_post_id" ON "comments" ("user_id", "post_id")
2023-08-23 22:43:44 info: =================================
2023-08-23 22:43:44 info: ======= ENV: development =======
2023-08-23 22:43:44 info: ðŸš€ App listening on the port 3000
2023-08-23 22:43:44 info: =================================
2023-08-23 22:43:44 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 22:43:44 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 22:43:44 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 22:43:44 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 22:43:44 info: 13ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 22:43:44 info: 2ms Executed (default): ALTER TABLE "public"."users" ADD COLUMN "post_count" BIGINT NOT NULL DEFAULT 0;
2023-08-23 22:43:44 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 22:43:44 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:43:44 info: 7ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:43:44 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:43:44 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 22:43:44 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 22:43:44 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 22:43:44 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 22:43:44 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:43:44 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:43:44 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 22:43:44 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 22:43:44 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:43:44 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 22:43:44 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:43:44 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:44:31 error: [POST] /auth/signup >> StatusCode:: 400, Message:: email must be an email, password must be a string, username must be a string
2023-08-23 22:44:31 info: [0mPOST /auth/signup [33m400[0m 15.447 ms - 90[0m
2023-08-23 22:48:49 info: =================================
2023-08-23 22:48:49 info: ======= ENV: development =======
2023-08-23 22:48:49 info: ðŸš€ App listening on the port 3000
2023-08-23 22:48:49 info: =================================
2023-08-23 22:48:49 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 22:48:49 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 22:48:49 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 22:48:49 info: 21ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 22:48:49 info: 26ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 22:48:49 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 22:48:49 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 22:48:49 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 22:48:49 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:49 info: 6ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 22:48:49 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 22:48:49 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:48:49 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 22:48:49 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 22:48:49 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:49 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 22:48:49 info: 3ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:48:49 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:48:49 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 22:48:49 info: 3ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 22:48:49 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:49 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:49 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 22:48:49 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:48:49 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 22:48:49 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:48:49 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:48:55 info: =================================
2023-08-23 22:48:55 info: ======= ENV: development =======
2023-08-23 22:48:55 info: ðŸš€ App listening on the port 3000
2023-08-23 22:48:55 info: =================================
2023-08-23 22:48:55 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 22:48:55 info: 6ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 22:48:55 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 22:48:55 info: 9ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 22:48:55 info: 15ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 22:48:55 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 22:48:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:55 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 22:48:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 22:48:55 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:48:55 info: 2ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 22:48:55 info: 7ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 22:48:55 info: 7ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 22:48:55 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 22:48:55 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:55 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 22:48:55 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:48:55 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:48:55 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 22:48:55 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 22:48:55 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 22:48:55 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 22:48:55 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 22:48:55 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:48:55 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:48:59 error: [POST] /auth/signup >> StatusCode:: 404, Message:: Authentication token missing
2023-08-23 22:48:59 info: [0mPOST /auth/signup [33m404[0m 14.358 ms - 42[0m
2023-08-23 22:49:30 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope30@gmaail.com' LIMIT 1;
2023-08-23 22:49:30 info: 0ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."username" = 'Phelickz' LIMIT 1;
2023-08-23 22:49:30 info: 6ms Executed (default): INSERT INTO "users" ("id","email","password","username","online","role","post_count","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9) RETURNING "id","email","password","username","online","last_login","logout_timestamp","role","post_count","created_at","updated_at"; "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89", "felixhope30@gmaail.com", "$2b$10$/rUVvIToM7R1LB3IyDjjfOPy9UUyN/mokWya4NR4q0.Te7H9YbwGy", "Phelickz", false, "USER", 0, "2023-08-24 06:49:30.868 +09:00", "2023-08-24 06:49:30.868 +09:00"
2023-08-23 22:49:30 info: [0mPOST /auth/signup [32m201[0m 153.818 ms - 365[0m
2023-08-23 22:50:05 info: =================================
2023-08-23 22:50:05 info: ======= ENV: development =======
2023-08-23 22:50:05 info: ðŸš€ App listening on the port 3000
2023-08-23 22:50:05 info: =================================
2023-08-23 22:50:05 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 22:50:05 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 22:50:05 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 22:50:05 info: 12ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 22:50:05 info: 17ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 22:50:05 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 22:50:05 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 22:50:05 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:50:05 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:50:05 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 22:50:05 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:50:05 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 22:50:05 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 22:50:05 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 22:50:05 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:50:05 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:50:05 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 22:50:05 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 22:50:05 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:50:05 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 22:50:05 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 22:50:05 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:50:05 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:50:59 info: 11ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope30@gmaail.com' LIMIT 1;
2023-08-23 22:50:59 info: 2ms Executed (default): UPDATE "users" SET "last_login"=$1,"online"=$2,"updated_at"=$3 WHERE "id" = $4; "2023-08-24 06:50:59.560 +09:00", true, "2023-08-24 06:50:59.560 +09:00", "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89"
2023-08-23 22:50:59 info: [0mPOST /auth/login [32m200[0m 127.617 ms - 337[0m
2023-08-23 22:53:55 info: =================================
2023-08-23 22:53:55 info: ======= ENV: development =======
2023-08-23 22:53:55 info: ðŸš€ App listening on the port 3000
2023-08-23 22:53:55 info: =================================
2023-08-23 22:53:55 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 22:53:55 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 22:53:55 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 22:53:55 info: 9ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 22:53:55 info: 13ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 22:53:55 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 22:53:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 22:53:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 22:53:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:53:55 info: 6ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 22:53:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 22:53:55 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:53:55 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 22:53:55 info: 3ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 22:53:55 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 22:53:55 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 22:53:55 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:53:55 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:53:55 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 22:53:55 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 22:53:55 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 22:53:55 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 22:53:55 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:53:55 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 22:53:55 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:53:55 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:53:57 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope30@gmaail.com' LIMIT 1;
2023-08-23 22:53:58 info: 2ms Executed (default): UPDATE "users" SET "last_login"=$1,"online"=$2,"updated_at"=$3 WHERE "id" = $4; "2023-08-24 06:53:58.003 +09:00", true, "2023-08-24 06:53:58.003 +09:00", "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89"
2023-08-23 22:53:58 info: [0mPOST /auth/login [32m200[0m 113.201 ms - 569[0m
2023-08-23 22:54:19 info: =================================
2023-08-23 22:54:19 info: ======= ENV: development =======
2023-08-23 22:54:19 info: ðŸš€ App listening on the port 3000
2023-08-23 22:54:19 info: =================================
2023-08-23 22:54:19 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 22:54:19 info: 12ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 22:54:19 info: 4ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 22:54:19 info: 12ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 22:54:19 info: 17ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 22:54:19 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 22:54:19 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:19 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 22:54:19 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:19 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 22:54:19 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:54:19 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 22:54:19 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 22:54:19 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 22:54:19 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:19 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 22:54:19 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:54:19 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:54:19 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 22:54:19 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 22:54:19 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:19 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:54:19 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 22:54:19 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:54:19 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:54:26 info: =================================
2023-08-23 22:54:26 info: ======= ENV: development =======
2023-08-23 22:54:26 info: ðŸš€ App listening on the port 3000
2023-08-23 22:54:26 info: =================================
2023-08-23 22:54:26 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 22:54:26 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 22:54:26 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 22:54:26 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 22:54:26 info: 18ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 22:54:26 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 22:54:26 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 22:54:26 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 22:54:26 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 22:54:26 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:26 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:26 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 22:54:26 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:54:26 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 22:54:26 info: 7ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 22:54:26 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 22:54:26 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:26 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 22:54:26 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:54:26 info: 3ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:54:26 info: 3ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 22:54:26 info: 10ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 22:54:26 info: 11ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 22:54:26 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:54:26 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 22:54:26 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:54:26 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:54:27 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope30@gmaail.com' LIMIT 1;
2023-08-23 22:54:27 info: 1ms Executed (default): UPDATE "users" SET "last_login"=$1,"online"=$2,"updated_at"=$3 WHERE "id" = $4; "2023-08-24 06:54:27.454 +09:00", true, "2023-08-24 06:54:27.455 +09:00", "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89"
2023-08-23 22:54:27 info: [0mPOST /auth/login [32m200[0m 112.125 ms - 565[0m
2023-08-23 22:56:13 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [33m404[0m 24.263 ms - 187[0m
2023-08-23 22:56:17 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/post [33m404[0m 1.789 ms - 186[0m
2023-08-23 22:56:48 info: =================================
2023-08-23 22:56:48 info: ======= ENV: development =======
2023-08-23 22:56:48 info: ðŸš€ App listening on the port 3000
2023-08-23 22:56:48 info: =================================
2023-08-23 22:56:48 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 22:56:48 info: 2ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 22:56:48 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 22:56:48 info: 6ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 22:56:48 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 22:56:48 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 22:56:48 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:56:48 info: 5ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 22:56:48 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:56:48 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 22:56:48 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:56:48 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 22:56:48 info: 3ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 22:56:48 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 22:56:48 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 22:56:48 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 22:56:48 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:56:48 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:56:48 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 22:56:48 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 22:56:48 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:56:48 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:56:48 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 22:56:48 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:56:48 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:56:49 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/post [33m404[0m 6.572 ms - 186[0m
2023-08-23 22:56:54 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [33m404[0m 2.593 ms - 187[0m
2023-08-23 22:57:15 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [33m404[0m 1.775 ms - 187[0m
2023-08-23 22:58:08 info: =================================
2023-08-23 22:58:08 info: ======= ENV: development =======
2023-08-23 22:58:08 info: ðŸš€ App listening on the port 3000
2023-08-23 22:58:08 info: =================================
2023-08-23 22:58:08 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 22:58:08 info: 3ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 22:58:08 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 22:58:08 info: 6ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 22:58:08 info: 9ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 22:58:08 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:58:08 info: 7ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 22:58:08 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:58:08 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 22:58:08 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:58:08 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 22:58:08 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 22:58:08 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 22:58:08 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 22:58:08 info: 3ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:58:08 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:58:08 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 22:58:08 info: 5ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 22:58:08 info: 7ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:58:08 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 22:58:08 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 22:58:08 info: 2ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:58:08 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 22:58:08 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 22:58:08 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 22:58:17 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [33m404[0m 21.148 ms - 187[0m
2023-08-23 22:58:22 info: 6ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope30@gmaail.com' LIMIT 1;
2023-08-23 22:58:22 info: 2ms Executed (default): UPDATE "users" SET "last_login"=$1,"online"=$2,"updated_at"=$3 WHERE "id" = $4; "2023-08-24 06:58:22.712 +09:00", true, "2023-08-24 06:58:22.712 +09:00", "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89"
2023-08-23 22:58:22 info: [0mPOST /auth/login [32m200[0m 157.551 ms - 565[0m
2023-08-23 22:59:53 info: 13ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 22:59:53 error: [GET] /users/123/posts >> StatusCode:: 500, Message:: invalid input syntax for type uuid: "123"
2023-08-23 22:59:53 info: [0mGET /users/123/posts [31m500[0m 120.654 ms - 57[0m
2023-08-23 23:00:00 info: [0mGET /users/s/posts [33m404[0m 1.187 ms - 152[0m
2023-08-23 23:00:03 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:00:03 error: [GET] /users/1/posts >> StatusCode:: 500, Message:: invalid input syntax for type uuid: "1"
2023-08-23 23:00:03 info: [0mGET /users/1/posts [31m500[0m 16.849 ms - 55[0m
2023-08-23 23:00:07 info: [0mGET /users/sadsd/posts [33m404[0m 0.990 ms - 156[0m
2023-08-23 23:00:17 info: [0mGET /users/:e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [33m404[0m 1.539 ms - 188[0m
2023-08-23 23:00:19 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [33m404[0m 0.438 ms - 187[0m
2023-08-23 23:01:28 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89 [33m404[0m 3.536 ms - 181[0m
2023-08-23 23:01:41 info: 3ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:01:41 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel";
2023-08-23 23:01:41 info: [0mGET /users/ [32m200[0m 28.064 ms - 360[0m
2023-08-23 23:01:54 info: [0mGET /users/:id [33m404[0m 1.199 ms - 148[0m
2023-08-23 23:01:59 info: [0mGET /users/id/posts [33m404[0m 2.220 ms - 153[0m
2023-08-23 23:02:02 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:02:02 error: [GET] /users/3/posts >> StatusCode:: 500, Message:: invalid input syntax for type uuid: "3"
2023-08-23 23:02:02 info: [0mGET /users/3/posts [31m500[0m 42.660 ms - 55[0m
2023-08-23 23:02:15 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:02:15 error: [GET] /users/232/posts >> StatusCode:: 500, Message:: invalid input syntax for type uuid: "232"
2023-08-23 23:02:15 info: [0mGET /users/232/posts [31m500[0m 18.130 ms - 57[0m
2023-08-23 23:03:20 info: =================================
2023-08-23 23:03:20 info: ======= ENV: development =======
2023-08-23 23:03:20 info: ðŸš€ App listening on the port 3000
2023-08-23 23:03:20 info: =================================
2023-08-23 23:03:20 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:03:20 info: 8ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:03:20 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:03:20 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:03:20 info: 12ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:03:20 info: 6ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:03:20 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:03:20 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:03:20 info: 8ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:03:20 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:03:20 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:03:20 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:03:20 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:03:20 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:03:20 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:03:20 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:03:20 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:03:20 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:03:20 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:03:20 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:03:20 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:03:20 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:03:20 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:03:20 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:03:20 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:03:43 info: 6ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:03:43 info: 1ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:03:43 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 46.702 ms - 2[0m
2023-08-23 23:08:02 info: =================================
2023-08-23 23:08:02 info: ======= ENV: development =======
2023-08-23 23:08:02 info: ðŸš€ App listening on the port 3000
2023-08-23 23:08:02 info: =================================
2023-08-23 23:08:02 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:08:02 info: 3ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:08:02 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:08:02 info: 5ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:08:03 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:08:03 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:08:03 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:08:03 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:08:03 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:08:03 info: 6ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:08:03 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:08:03 info: 2ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:08:03 info: 5ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:08:03 info: 6ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:08:03 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:08:03 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:08:03 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:08:03 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:08:03 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:08:03 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:08:03 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:08:03 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:08:03 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:08:03 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:08:03 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:08:21 info: 3ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope30@gmaail.com' LIMIT 1;
2023-08-23 23:08:21 error: [POST] /users >> StatusCode:: 409, Message:: This email felixhope30@gmaail.com already exists
2023-08-23 23:08:21 info: [0mPOST /users [33m409[0m 45.025 ms - 62[0m
2023-08-23 23:08:28 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope31@gmaail.com' LIMIT 1;
2023-08-23 23:08:28 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."username" = 'Phelickz' LIMIT 1;
2023-08-23 23:08:28 error: [POST] /users >> StatusCode:: 409, Message:: This username Phelickz already exists
2023-08-23 23:08:28 info: [0mPOST /users [33m409[0m 16.265 ms - 51[0m
2023-08-23 23:08:31 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope31@gmaail.com' LIMIT 1;
2023-08-23 23:08:31 info: 0ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."username" = 'Phelickz1' LIMIT 1;
2023-08-23 23:08:31 info: 3ms Executed (default): INSERT INTO "users" ("id","email","password","username","online","role","post_count","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9) RETURNING "id","email","password","username","online","last_login","logout_timestamp","role","post_count","created_at","updated_at"; "91c2f122-3666-4f4f-8f03-ab09d18e6056", "felixhope31@gmaail.com", "$2b$10$iVAY9JCuHtmwxVMkWDtMr.XIf4TmFMylfvMZsh1S/MqRN3DIh4XHq", "Phelickz1", false, "USER", 0, "2023-08-24 07:08:31.298 +09:00", "2023-08-24 07:08:31.298 +09:00"
2023-08-23 23:08:31 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope31@gmaail.com' LIMIT 1;
2023-08-23 23:08:31 info: 2ms Executed (default): UPDATE "users" SET "last_login"=$1,"online"=$2,"updated_at"=$3 WHERE "id" = $4; "2023-08-24 07:08:31.362 +09:00", true, "2023-08-24 07:08:31.362 +09:00", "91c2f122-3666-4f4f-8f03-ab09d18e6056"
2023-08-23 23:08:31 info: [0mPOST /users [32m201[0m 175.381 ms - 545[0m
2023-08-23 23:08:37 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope30@gmaail.com' LIMIT 1;
2023-08-23 23:08:37 info: 0ms Executed (default): UPDATE "users" SET "last_login"=$1,"online"=$2,"updated_at"=$3 WHERE "id" = $4; "2023-08-24 07:08:37.208 +09:00", true, "2023-08-24 07:08:37.208 +09:00", "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89"
2023-08-23 23:08:37 info: [0mPOST /auth/login [32m200[0m 60.777 ms - 565[0m
2023-08-23 23:09:44 info: =================================
2023-08-23 23:09:44 info: ======= ENV: development =======
2023-08-23 23:09:44 info: ðŸš€ App listening on the port 3000
2023-08-23 23:09:44 info: =================================
2023-08-23 23:09:44 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:09:44 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:09:44 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:09:44 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:09:44 info: 13ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:09:44 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:09:44 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:09:44 info: 5ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:09:44 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:09:44 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:09:44 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:09:44 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:09:44 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:09:44 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:09:44 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:09:44 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:09:44 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:09:44 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:09:44 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:09:44 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:09:44 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:09:44 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:09:44 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:09:44 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:09:54 info: 3ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056';
2023-08-23 23:09:54 error: [POST] /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts >> StatusCode:: 400, Message:: title must be a string, content must be a string
2023-08-23 23:09:54 info: [0mPOST /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [33m400[0m 20.712 ms - 62[0m
2023-08-23 23:10:32 info: 3ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056';
2023-08-23 23:10:32 info: 1ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:10:32 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 18.446 ms - 2[0m
2023-08-23 23:10:57 info: =================================
2023-08-23 23:10:57 info: ======= ENV: development =======
2023-08-23 23:10:57 info: ðŸš€ App listening on the port 3000
2023-08-23 23:10:57 info: =================================
2023-08-23 23:10:57 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:10:57 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:10:57 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:10:57 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:10:57 info: 15ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:10:57 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:10:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:10:57 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:10:57 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:10:57 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:10:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:10:58 info: 8ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:10:58 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:10:58 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:10:58 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:10:58 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:10:58 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:10:58 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:10:58 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:10:58 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:10:58 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:10:58 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:10:58 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:10:58 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:10:58 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:10:58 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:10:58 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:10:58 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:10:58 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:10:58 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:10:58 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:10:58 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:10:58 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:10:58 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:10:58 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:10:58 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:10:58 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:11:03 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056';
2023-08-23 23:11:03 info: 1ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:11:03 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 21.348 ms - 2[0m
2023-08-23 23:11:17 info: =================================
2023-08-23 23:11:17 info: ======= ENV: development =======
2023-08-23 23:11:17 info: ðŸš€ App listening on the port 3000
2023-08-23 23:11:17 info: =================================
2023-08-23 23:11:17 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:11:17 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:11:17 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:11:17 info: 12ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:11:17 info: 17ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:11:17 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:11:17 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:11:17 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:17 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:17 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:11:17 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:11:17 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:11:17 info: 9ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:11:17 info: 9ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:11:17 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:11:17 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:11:17 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:11:17 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:11:17 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:11:17 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:11:17 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:11:17 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:17 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:11:17 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:11:17 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:11:17 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:11:17 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:11:23 info: =================================
2023-08-23 23:11:23 info: ======= ENV: development =======
2023-08-23 23:11:23 info: ðŸš€ App listening on the port 3000
2023-08-23 23:11:23 info: =================================
2023-08-23 23:11:23 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:11:23 info: 6ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:11:23 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:11:23 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:11:23 info: 18ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:11:23 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:11:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:11:23 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:11:23 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:11:23 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:23 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:11:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:23 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:11:23 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:11:23 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:11:23 info: 7ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:11:23 info: 7ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:11:23 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:11:23 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:11:23 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:23 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:23 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:11:23 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:11:23 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:11:23 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:11:23 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:11:23 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:11:23 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:11:23 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:23 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:11:23 info: 2ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:11:23 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:11:23 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:11:23 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:11:23 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:11:26 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056';
2023-08-23 23:11:26 info: 1ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:11:26 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 21.131 ms - 2[0m
2023-08-23 23:12:17 info: =================================
2023-08-23 23:12:17 info: ======= ENV: development =======
2023-08-23 23:12:17 info: ðŸš€ App listening on the port 3000
2023-08-23 23:12:17 info: =================================
2023-08-23 23:12:17 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:12:17 info: 3ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:12:17 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:12:17 info: 24ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:12:17 info: 30ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:12:17 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:12:17 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:12:17 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:12:17 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:12:17 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:12:17 info: 3ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:12:17 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:12:17 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:12:17 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:12:17 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:12:17 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:12:17 info: 3ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:12:17 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:12:17 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:12:17 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:12:17 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:12:17 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:12:17 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:12:17 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:12:17 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:12:17 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:12:17 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:12:18 error: [GET] /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts >> StatusCode:: 404, Message:: Authentication token missing
2023-08-23 23:12:18 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [33m404[0m 15.379 ms - 42[0m
2023-08-23 23:12:25 info: 4ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:12:25 info: 1ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:12:25 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 23.426 ms - 2[0m
2023-08-23 23:12:29 error: [POST] /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts >> StatusCode:: 404, Message:: Authentication token missing
2023-08-23 23:12:29 info: [0mPOST /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [33m404[0m 3.517 ms - 42[0m
2023-08-23 23:12:40 info: 4ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:12:40 error: [POST] /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts >> StatusCode:: 400, Message:: title must be a string, content must be a string
2023-08-23 23:12:40 info: [0mPOST /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [33m400[0m 29.576 ms - 62[0m
2023-08-23 23:13:18 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:13:18 error: [POST] /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts >> StatusCode:: 500, Message:: Cannot read properties of undefined (reading 'id')
2023-08-23 23:13:18 info: [0mPOST /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [31m500[0m 39.989 ms - 64[0m
2023-08-23 23:14:45 info: =================================
2023-08-23 23:14:45 info: ======= ENV: development =======
2023-08-23 23:14:45 info: ðŸš€ App listening on the port 3000
2023-08-23 23:14:45 info: =================================
2023-08-23 23:14:45 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:14:45 info: 6ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:14:45 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:14:45 info: 6ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:14:45 info: 9ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:14:45 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:14:45 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:45 info: 7ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:45 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:45 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:14:45 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:14:45 info: 3ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:14:45 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:14:45 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:14:45 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:14:45 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:14:45 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:14:45 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:14:45 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:14:45 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:45 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:14:45 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:14:45 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:14:57 info: =================================
2023-08-23 23:14:57 info: ======= ENV: development =======
2023-08-23 23:14:57 info: ðŸš€ App listening on the port 3000
2023-08-23 23:14:57 info: =================================
2023-08-23 23:14:57 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:14:57 info: 6ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:14:57 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:14:57 info: 14ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:14:57 info: 27ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:14:57 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:14:57 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:57 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:57 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:14:57 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:14:57 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:14:57 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:14:57 info: 9ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:57 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:14:57 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:14:57 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:14:57 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:14:57 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:14:57 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:14:57 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:14:57 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:14:57 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:14:57 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:14:57 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:14:57 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:15:21 info: =================================
2023-08-23 23:15:21 info: ======= ENV: development =======
2023-08-23 23:15:21 info: ðŸš€ App listening on the port 3000
2023-08-23 23:15:21 info: =================================
2023-08-23 23:15:21 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:15:21 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:15:21 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:15:21 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:15:21 info: 18ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:15:21 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:15:21 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:15:21 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:15:21 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:15:21 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:21 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:21 info: 5ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:15:21 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:21 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:21 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:15:21 info: 3ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:15:21 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:15:21 info: 6ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:15:21 info: 7ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:15:21 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:15:21 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:15:21 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:21 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:21 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:15:21 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:15:21 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:15:21 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:15:21 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:15:21 info: 6ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:15:21 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:15:21 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:21 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:21 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:15:21 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:15:21 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:15:21 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:15:21 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:15:24 info: =================================
2023-08-23 23:15:24 info: ======= ENV: development =======
2023-08-23 23:15:24 info: ðŸš€ App listening on the port 3000
2023-08-23 23:15:24 info: =================================
2023-08-23 23:15:24 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:15:24 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:15:24 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:15:24 info: 11ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:15:24 info: 18ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:15:24 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:24 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:24 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:15:24 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:15:24 info: 3ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:15:24 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:15:24 info: 7ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:15:24 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:15:24 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:15:24 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:24 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:15:24 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:15:24 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:15:24 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:15:24 info: 6ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:15:24 info: 7ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:15:24 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:24 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:15:24 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:15:24 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:15:24 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:15:24 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:15:27 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:15:27 info: 2ms Executed (default): INSERT INTO "posts" ("id","content","title","created_at","updated_at","user_id") VALUES ($1,$2,$3,$4,$5,$6) RETURNING "id","content","title","created_at","updated_at","user_id"; "33e17f79-f999-4eac-81ee-a699b42ab5c9", "CONTENT 1", "TITLE 1", "2023-08-24 07:15:27.526 +09:00", "2023-08-24 07:15:27.526 +09:00", "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89"
2023-08-23 23:15:27 info: 2ms Executed (default): UPDATE "users" SET "post_count"="post_count"+ 1,"updated_at"='2023-08-24 07:15:27.532 +09:00' WHERE "id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' RETURNING *
2023-08-23 23:15:27 info: [0mPOST /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 37.468 ms - 211[0m
2023-08-23 23:15:33 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:15:33 info: 1ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:15:33 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 10.556 ms - 213[0m
2023-08-23 23:16:20 error: [GET] /users >> StatusCode:: 404, Message:: Authentication token missing
2023-08-23 23:16:20 info: [0mGET /users [33m404[0m 6.348 ms - 42[0m
2023-08-23 23:16:36 info: 4ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:16:36 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel";
2023-08-23 23:16:36 info: [0mGET /users [32m200[0m 32.157 ms - 720[0m
2023-08-23 23:17:02 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:17:02 info: 15ms Executed (default): INSERT INTO "posts" ("id","content","title","created_at","updated_at","user_id") VALUES ($1,$2,$3,$4,$5,$6) RETURNING "id","content","title","created_at","updated_at","user_id"; "0e65c200-27fa-4c7a-93e8-bcbb564b2752", "CONTENT 2", "TITLE 2", "2023-08-24 07:17:02.273 +09:00", "2023-08-24 07:17:02.273 +09:00", "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89"
2023-08-23 23:17:02 info: 2ms Executed (default): UPDATE "users" SET "post_count"="post_count"+ 1,"updated_at"='2023-08-24 07:17:02.294 +09:00' WHERE "id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' RETURNING *
2023-08-23 23:17:02 info: [0mPOST /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 48.364 ms - 211[0m
2023-08-23 23:17:04 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:17:04 info: 1ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:17:04 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 12.038 ms - 425[0m
2023-08-23 23:18:13 info: =================================
2023-08-23 23:18:13 info: ======= ENV: development =======
2023-08-23 23:18:13 info: ðŸš€ App listening on the port 3000
2023-08-23 23:18:13 info: =================================
2023-08-23 23:18:13 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:18:13 info: 8ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:18:13 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:18:13 info: 11ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:18:13 info: 14ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:18:13 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:18:13 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:18:13 info: 7ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:18:13 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:18:13 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:18:13 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:18:13 info: 5ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:18:13 info: 6ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:18:13 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:18:13 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:18:13 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:18:13 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:18:13 info: 5ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:18:13 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:18:13 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:18:13 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:18:13 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:18:13 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:18:13 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:18:13 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:23:50 info: =================================
2023-08-23 23:23:50 info: ======= ENV: development =======
2023-08-23 23:23:50 info: ðŸš€ App listening on the port 3000
2023-08-23 23:23:50 info: =================================
2023-08-23 23:23:51 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:23:51 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:23:51 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:23:51 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:23:51 info: 12ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:23:51 info: 8ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:23:51 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:23:51 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:23:51 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:23:51 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:23:51 info: 7ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:23:51 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:23:51 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:23:51 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:23:51 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:23:51 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:23:51 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:23:51 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:23:51 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:23:51 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:23:51 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:23:51 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:23:51 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:23:58 info: 4ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:23:58 info: 1ms Executed (default): INSERT INTO "posts" ("id","content","title","created_at","updated_at","user_id") VALUES ($1,$2,$3,$4,$5,$6) RETURNING "id","content","title","created_at","updated_at","user_id"; "3bf20bb2-542e-4e45-954d-29bcf0c8a467", "CONTENT 3", "TITLE 3", "2023-08-24 07:23:58.948 +09:00", "2023-08-24 07:23:58.948 +09:00", "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89"
2023-08-23 23:23:58 info: 2ms Executed (default): UPDATE "users" SET "post_count"="post_count"+ 1,"updated_at"='2023-08-24 07:23:58.953 +09:00' WHERE "id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' RETURNING *
2023-08-23 23:23:58 info: [0mPOST /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 29.642 ms - 211[0m
2023-08-23 23:24:02 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:24:02 info: 1ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:24:02 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 11.082 ms - 637[0m
2023-08-23 23:24:32 error: [POST] /posts/3bf20bb2-542e-4e45-954d-29bcf0c8a467/comment >> StatusCode:: 404, Message:: Authentication token missing
2023-08-23 23:24:32 info: [0mPOST /posts/3bf20bb2-542e-4e45-954d-29bcf0c8a467/comment [33m404[0m 8.049 ms - 42[0m
2023-08-23 23:24:49 info: 4ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:24:49 error: [POST] /posts/3bf20bb2-542e-4e45-954d-29bcf0c8a467/comment >> StatusCode:: 400, Message:: content must be a string
2023-08-23 23:24:50 info: [0mPOST /posts/3bf20bb2-542e-4e45-954d-29bcf0c8a467/comment [33m400[0m 31.646 ms - 38[0m
2023-08-23 23:25:04 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:25:04 info: 4ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."id" = '3bf20bb2-542e-4e45-954d-29bcf0c8a467';
2023-08-23 23:25:04 info: 4ms Executed (default): INSERT INTO "comments" ("id","content","created_at","updated_at","post_id") VALUES ($1,$2,$3,$4,$5) RETURNING "id","content","created_at","updated_at","user_id","post_id"; "95e0cb35-7af1-49d5-98a5-b9c4bafe1992", "COMMENT 1", "2023-08-24 07:25:04.113 +09:00", "2023-08-24 07:25:04.113 +09:00", "3bf20bb2-542e-4e45-954d-29bcf0c8a467"
2023-08-23 23:25:04 info: [0mPOST /posts/3bf20bb2-542e-4e45-954d-29bcf0c8a467/comment [32m201[0m 49.867 ms - 207[0m
2023-08-23 23:26:18 info: =================================
2023-08-23 23:26:18 info: ======= ENV: development =======
2023-08-23 23:26:18 info: ðŸš€ App listening on the port 3000
2023-08-23 23:26:18 info: =================================
2023-08-23 23:26:19 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:26:19 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:26:19 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:26:19 info: 13ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:26:19 info: 19ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:26:19 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:26:19 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:26:19 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:26:19 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:19 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:19 info: 7ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:26:19 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:26:19 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:26:19 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:26:19 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:26:19 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:26:19 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:26:19 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:26:19 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:26:19 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:26:19 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:19 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:26:19 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:26:19 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:26:19 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:26:59 info: =================================
2023-08-23 23:26:59 info: ======= ENV: development =======
2023-08-23 23:26:59 info: ðŸš€ App listening on the port 3000
2023-08-23 23:26:59 info: =================================
2023-08-23 23:26:59 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:26:59 info: 6ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:26:59 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:26:59 info: 11ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:26:59 info: 14ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:26:59 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:26:59 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:26:59 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:26:59 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:59 info: 5ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:26:59 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:26:59 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:26:59 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:26:59 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:26:59 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:59 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:26:59 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:26:59 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:26:59 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:26:59 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:26:59 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:26:59 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:26:59 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:26:59 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:26:59 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:27:01 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:27:01 info: 0ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."id" = '3bf20bb2-542e-4e45-954d-29bcf0c8a467';
2023-08-23 23:27:01 info: 3ms Executed (default): INSERT INTO "comments" ("id","content","created_at","updated_at","user_id","post_id") VALUES ($1,$2,$3,$4,$5,$6) RETURNING "id","content","created_at","updated_at","user_id","post_id"; "5edb029f-75f5-45fb-aff3-973feeda68c4", "COMMENT 1", "2023-08-24 07:27:01.556 +09:00", "2023-08-24 07:27:01.556 +09:00", "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89", "3bf20bb2-542e-4e45-954d-29bcf0c8a467"
2023-08-23 23:27:01 info: [0mPOST /posts/3bf20bb2-542e-4e45-954d-29bcf0c8a467/comment [32m201[0m 41.781 ms - 241[0m
2023-08-23 23:27:07 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:27:07 info: 1ms Executed (default): SELECT "id", "content", "title", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId" FROM "posts" AS "PostModel" WHERE "PostModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:27:07 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 10.890 ms - 637[0m
2023-08-23 23:27:46 info: =================================
2023-08-23 23:27:46 info: ======= ENV: development =======
2023-08-23 23:27:46 info: ðŸš€ App listening on the port 3000
2023-08-23 23:27:46 info: =================================
2023-08-23 23:27:46 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:27:46 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:27:46 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:27:46 info: 38ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:27:46 info: 50ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:27:46 info: 7ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:27:46 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:27:46 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:27:46 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:27:46 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:27:46 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:27:46 info: 16ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:27:46 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:27:46 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:27:46 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:27:46 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:27:46 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:27:46 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:27:46 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:27:46 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:27:46 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:27:46 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:27:46 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:27:46 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:27:46 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:27:46 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:27:46 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:27:46 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:27:46 info: 3ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:27:46 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:27:46 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:27:46 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:27:46 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:27:46 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:27:46 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:27:46 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:27:46 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:27:47 info: 3ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:27:47 error: [GET] /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts >> StatusCode:: 500, Message:: CommentModel is associated to PostModel using an alias. You've included an alias (comments), but it does not match the alias(es) defined in your association (CommentModels).
2023-08-23 23:27:47 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [31m500[0m 21.629 ms - 187[0m
2023-08-23 23:28:11 info: =================================
2023-08-23 23:28:11 info: ======= ENV: development =======
2023-08-23 23:28:11 info: ðŸš€ App listening on the port 3000
2023-08-23 23:28:11 info: =================================
2023-08-23 23:28:11 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:28:11 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:28:11 info: 0ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:28:11 info: 17ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:28:11 info: 20ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:28:11 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:28:11 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:28:11 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:28:11 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:28:11 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:28:11 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:28:12 info: 5ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:28:12 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:28:12 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:28:12 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:28:12 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:28:12 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:28:12 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:28:12 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:28:12 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:28:12 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:28:12 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:28:12 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:28:12 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:28:12 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:28:12 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:28:12 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:28:12 info: 2ms Executed (default): SELECT "PostModel"."id", "PostModel"."content", "PostModel"."title", "PostModel"."created_at" AS "createdAt", "PostModel"."updated_at" AS "updatedAt", "PostModel"."user_id" AS "userId", "comments"."id" AS "comments.id", "comments"."content" AS "comments.content", "comments"."created_at" AS "comments.createdAt", "comments"."updated_at" AS "comments.updatedAt", "comments"."user_id" AS "comments.userId", "comments"."post_id" AS "comments.postId" FROM "posts" AS "PostModel" LEFT OUTER JOIN "comments" AS "comments" ON "PostModel"."id" = "comments"."post_id" WHERE "PostModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:28:12 info: [0mGET /users/e8f38b9c-ecbb-4a1a-bef8-30608cb87b89/posts [32m201[0m 27.605 ms - 1128[0m
2023-08-23 23:29:00 info: 4ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:29:00 info: 2ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:29:00 error: [GET] /users/top-users >> StatusCode:: 500, Message:: UserModel is associated to CommentModel using an alias. You've included an alias (user), but it does not match the alias(es) defined in your association (UserModel).
2023-08-23 23:29:00 info: [0mGET /users/top-users [31m500[0m 33.719 ms - 179[0m
2023-08-23 23:29:57 info: =================================
2023-08-23 23:29:57 info: ======= ENV: development =======
2023-08-23 23:29:57 info: ðŸš€ App listening on the port 3000
2023-08-23 23:29:57 info: =================================
2023-08-23 23:29:57 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:29:57 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:29:57 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:29:57 info: 12ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:29:57 info: 15ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:29:57 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:29:57 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:29:57 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:29:57 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:29:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:29:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:29:57 info: 10ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:29:57 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:29:57 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:29:57 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:29:57 info: 3ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:29:57 info: 2ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:29:57 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:29:57 info: 9ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:29:57 info: 2ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:29:57 info: 2ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:29:57 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:29:57 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:29:57 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:29:57 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:29:57 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:29:57 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:29:57 info: 6ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:29:57 info: 6ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:29:57 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:29:57 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:29:57 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:29:57 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:29:57 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:29:57 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:29:57 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:29:57 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:29:59 info: 3ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:29:59 info: 1ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:29:59 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."id" AS "user.id", "user"."username" AS "user.username" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:29:59 info: [0mGET /users/top-users [32m200[0m 42.346 ms - 228[0m
2023-08-23 23:31:36 info: =================================
2023-08-23 23:31:36 info: ======= ENV: development =======
2023-08-23 23:31:36 info: ðŸš€ App listening on the port 3000
2023-08-23 23:31:36 info: =================================
2023-08-23 23:31:36 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:31:36 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:31:36 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:31:36 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:31:36 info: 12ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:31:36 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:31:36 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:31:36 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:31:36 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:31:36 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:31:36 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:31:37 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:31:37 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:31:37 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:31:37 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:31:37 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:31:37 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:31:37 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:31:37 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:31:37 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:31:37 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:31:37 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:31:37 info: 6ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:31:37 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:31:37 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:31:37 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:31:37 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:31:37 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:31:37 info: 1ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:31:37 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."id" AS "user.id", "user"."username" AS "user.username" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:31:37 info: [0mGET /users/top-users [32m200[0m 29.244 ms - 228[0m
2023-08-23 23:32:23 info: =================================
2023-08-23 23:32:23 info: ======= ENV: development =======
2023-08-23 23:32:23 info: ðŸš€ App listening on the port 3000
2023-08-23 23:32:23 info: =================================
2023-08-23 23:32:23 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:32:23 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:32:23 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:32:23 info: 9ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:32:23 info: 12ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:32:23 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:32:23 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:32:23 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:32:23 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:32:23 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:32:23 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:32:23 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:32:23 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:32:23 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:32:23 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:32:23 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:32:23 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:32:23 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:32:23 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:32:23 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:32:23 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:32:23 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:32:23 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:32:23 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:32:25 info: 3ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:32:25 info: 1ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:32:25 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."id" AS "user.id", "user"."username" AS "user.username" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:32:25 info: [0mGET /users/top-users [32m200[0m 32.845 ms - 228[0m
2023-08-23 23:33:23 info: =================================
2023-08-23 23:33:23 info: ======= ENV: development =======
2023-08-23 23:33:23 info: ðŸš€ App listening on the port 3000
2023-08-23 23:33:23 info: =================================
2023-08-23 23:33:23 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:33:23 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:33:23 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:33:23 info: 7ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:33:23 info: 10ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:33:23 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:33:23 info: 6ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:33:23 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:33:23 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:33:23 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:33:23 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:33:23 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:33:23 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:33:23 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:33:23 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:33:23 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:33:23 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:33:23 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:33:23 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:33:23 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:33:23 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:33:23 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:33:26 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:33:26 info: 1ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:33:26 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."id" AS "user.id", "user"."username" AS "user.username" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:33:26 info: [0mGET /users/top-users [32m200[0m 25.489 ms - 228[0m
2023-08-23 23:34:00 info: =================================
2023-08-23 23:34:00 info: ======= ENV: development =======
2023-08-23 23:34:00 info: ðŸš€ App listening on the port 3000
2023-08-23 23:34:00 info: =================================
2023-08-23 23:34:00 info: 2ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:34:00 info: 10ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:34:00 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:34:00 info: 14ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:34:00 info: 17ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:34:00 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:00 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:00 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:34:00 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:34:00 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:34:00 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:34:00 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:34:00 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:00 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:34:00 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:34:00 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:34:00 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:34:00 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:34:00 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:34:00 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:34:00 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:34:00 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:34:00 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:34:02 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:34:02 info: 0ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:34:02 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."id" AS "user.id", "user"."username" AS "user.username" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:34:02 info: [0mGET /users/top-users [32m200[0m 31.184 ms - 228[0m
2023-08-23 23:34:26 info: =================================
2023-08-23 23:34:26 info: ======= ENV: development =======
2023-08-23 23:34:26 info: ðŸš€ App listening on the port 3000
2023-08-23 23:34:26 info: =================================
2023-08-23 23:34:26 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:34:26 info: 8ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:34:26 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:34:26 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:34:26 info: 30ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:34:26 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:26 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:34:26 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:34:26 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:34:26 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:34:26 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:34:26 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:34:26 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:34:26 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:34:26 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:34:26 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:34:26 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:34:26 info: 3ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:34:26 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:34:26 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:34:26 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:34:26 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:34:29 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:34:29 info: 1ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:34:29 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."id" AS "user.id", "user"."username" AS "user.username" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:34:29 info: [0mGET /users/top-users [32m200[0m 33.639 ms - 228[0m
2023-08-23 23:34:42 info: =================================
2023-08-23 23:34:42 info: ======= ENV: development =======
2023-08-23 23:34:42 info: ðŸš€ App listening on the port 3000
2023-08-23 23:34:42 info: =================================
2023-08-23 23:34:42 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:34:42 info: 9ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:34:42 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:34:42 info: 11ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:34:42 info: 18ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:34:42 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:34:42 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:34:43 info: =================================
2023-08-23 23:34:43 info: ======= ENV: development =======
2023-08-23 23:34:43 info: ðŸš€ App listening on the port 3000
2023-08-23 23:34:43 info: =================================
2023-08-23 23:34:43 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:34:43 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:34:43 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:34:43 info: 11ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:34:43 info: 25ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:34:43 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:34:43 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:34:43 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:43 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:34:43 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:34:43 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:34:43 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:34:43 info: 9ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:43 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:34:43 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:34:43 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:34:43 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:34:43 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:34:43 info: 9ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:34:43 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:34:43 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:34:43 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:34:43 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:34:43 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:34:43 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:34:47 info: 7ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:34:47 info: 4ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:34:47 info: 2ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."id" AS "user.id", "user"."username" AS "user.username" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:34:47 info: [0mGET /users/top-users [32m200[0m 42.789 ms - 228[0m
2023-08-23 23:35:26 info: =================================
2023-08-23 23:35:26 info: ======= ENV: development =======
2023-08-23 23:35:26 info: ðŸš€ App listening on the port 3000
2023-08-23 23:35:26 info: =================================
2023-08-23 23:35:26 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:35:26 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:35:26 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:35:26 info: 12ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:35:26 info: 19ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:35:26 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:35:26 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:35:26 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:35:26 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:26 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:35:26 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:35:26 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:35:26 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:35:26 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:35:26 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:35:26 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:35:26 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:35:26 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:35:26 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:26 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:35:26 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:35:26 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:35:26 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:35:26 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:35:30 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:35:30 info: 1ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:35:30 info: 2ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."id" AS "user.id", "user"."username" AS "user.username" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:35:30 info: [0mGET /users/top-users [32m200[0m 15.511 ms - 228[0m
2023-08-23 23:35:58 info: =================================
2023-08-23 23:35:58 info: ======= ENV: development =======
2023-08-23 23:35:58 info: ðŸš€ App listening on the port 3000
2023-08-23 23:35:58 info: =================================
2023-08-23 23:35:58 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:35:58 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:35:58 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:35:58 info: 11ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:35:58 info: 31ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:35:58 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:35:58 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:35:58 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:35:58 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:35:58 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:58 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:35:58 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:35:58 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:35:58 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:35:58 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:35:58 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:35:58 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:35:58 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:35:58 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:35:58 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:35:58 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:58 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:35:58 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:35:58 info: 2ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:35:58 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:35:58 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:35:58 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:36:02 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:36:02 info: 1ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:36:02 error: [GET] /users/top-users >> StatusCode:: 500, Message:: column user.userId does not exist
2023-08-23 23:36:02 info: [0mGET /users/top-users [31m500[0m 68.640 ms - 47[0m
2023-08-23 23:36:09 info: =================================
2023-08-23 23:36:09 info: ======= ENV: development =======
2023-08-23 23:36:09 info: ðŸš€ App listening on the port 3000
2023-08-23 23:36:09 info: =================================
2023-08-23 23:36:09 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:36:09 info: 14ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:36:09 info: 3ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:36:09 info: 17ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:36:09 info: 23ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:36:09 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:36:09 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:36:09 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:09 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:36:09 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:36:09 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:36:09 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:36:09 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:36:09 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:36:09 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:36:09 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:36:09 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:36:09 info: 6ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:36:09 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:36:09 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:36:09 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:36:09 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:36:12 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:36:12 info: 1ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:36:12 error: [GET] /users/top-users >> StatusCode:: 500, Message:: column user.user_id does not exist
2023-08-23 23:36:12 info: [0mGET /users/top-users [31m500[0m 63.733 ms - 48[0m
2023-08-23 23:36:20 info: =================================
2023-08-23 23:36:20 info: ======= ENV: development =======
2023-08-23 23:36:20 info: ðŸš€ App listening on the port 3000
2023-08-23 23:36:20 info: =================================
2023-08-23 23:36:20 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:36:20 info: 3ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:36:20 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:36:20 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:36:20 info: 16ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:36:20 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:20 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:20 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:20 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:36:20 info: 3ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:36:20 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:36:20 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:36:20 info: 9ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:36:20 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:36:20 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:36:20 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:36:20 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:36:20 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:36:20 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:36:20 info: 10ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:36:20 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:20 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:36:20 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:36:20 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:36:20 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:36:20 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:36:22 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:36:22 info: 3ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:36:22 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."username" AS "user.username", "user"."id" AS "user.id" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:36:22 info: [0mGET /users/top-users [32m200[0m 42.208 ms - 227[0m
2023-08-23 23:36:55 info: =================================
2023-08-23 23:36:55 info: ======= ENV: development =======
2023-08-23 23:36:55 info: ðŸš€ App listening on the port 3000
2023-08-23 23:36:55 info: =================================
2023-08-23 23:36:55 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:36:55 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:36:55 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:36:55 info: 12ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:36:55 info: 15ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:36:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:36:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:36:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:55 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:55 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:36:55 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:36:55 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:36:55 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:36:55 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:36:55 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:55 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:36:55 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:36:55 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:36:55 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:36:55 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:36:55 info: 6ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:36:55 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:36:55 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:36:55 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:36:55 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:36:55 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:36:56 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:36:56 info: 0ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:36:56 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."username" AS "user.username", "user"."id" AS "user.id" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:36:56 info: [0mGET /users/top-users [32m200[0m 35.379 ms - 532[0m
2023-08-23 23:37:33 info: =================================
2023-08-23 23:37:33 info: ======= ENV: development =======
2023-08-23 23:37:33 info: ðŸš€ App listening on the port 3000
2023-08-23 23:37:33 info: =================================
2023-08-23 23:37:33 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:37:33 info: 6ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:37:33 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:37:33 info: 12ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:37:33 info: 21ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:37:33 info: 6ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:37:33 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:37:33 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:37:33 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:37:33 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:37:33 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:37:33 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:37:33 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:37:33 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:37:33 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:37:33 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:37:33 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:37:33 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:37:33 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:37:33 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:37:33 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:37:33 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:37:33 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:37:33 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:37:34 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:37:37 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:37:37 info: 0ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:37:37 info: 0ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."username" AS "user.username", "user"."id" AS "user.id" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:37:37 info: [0mGET /users/top-users [32m200[0m 15.595 ms - 227[0m
2023-08-23 23:45:00 info: =================================
2023-08-23 23:45:00 info: ======= ENV: development =======
2023-08-23 23:45:00 info: ðŸš€ App listening on the port 3000
2023-08-23 23:45:00 info: =================================
2023-08-23 23:45:00 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:45:00 info: 2ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:45:00 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:45:00 info: 12ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:45:00 info: 15ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:45:00 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:45:00 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:45:00 info: 7ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:45:00 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:45:00 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:45:00 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:45:00 info: 3ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:45:00 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:45:00 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:45:00 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:45:00 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:45:00 info: 3ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:45:00 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:45:00 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:45:00 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:45:00 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:45:08 info: 3ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:45:08 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:45:08 info: 2ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:45:08 info: [0mGET /users/top-users [32m200[0m 30.250 ms - 439[0m
2023-08-23 23:46:35 info: =================================
2023-08-23 23:46:35 info: ======= ENV: development =======
2023-08-23 23:46:35 info: ðŸš€ App listening on the port 3000
2023-08-23 23:46:35 info: =================================
2023-08-23 23:46:35 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:46:35 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:46:35 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:46:35 info: 12ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:46:35 info: 17ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:46:35 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:46:35 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:46:35 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:46:35 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:46:35 info: 2ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:46:35 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:46:35 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:46:35 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:46:35 info: 1ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:46:35 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:46:35 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:46:35 info: 3ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:46:35 info: 3ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:46:35 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:46:35 info: 6ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:46:35 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:46:35 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:46:35 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:46:39 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:46:39 info: 1ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:46:39 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."username" AS "user.username", "user"."id" AS "user.id" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:46:39 info: [0mGET /users/top-users [32m200[0m 32.122 ms - 227[0m
2023-08-23 23:46:43 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:46:43 info: 1ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:46:43 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."username" AS "user.username", "user"."id" AS "user.id" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:46:43 info: [0mGET /users/top-users [32m200[0m 12.765 ms - 227[0m
2023-08-23 23:46:45 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:46:45 info: 0ms Executed (default): SELECT "id", "username", "post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:46:45 info: 1ms Executed (default): SELECT "CommentModel"."id", "CommentModel"."content", "CommentModel"."created_at" AS "createdAt", "CommentModel"."updated_at" AS "updatedAt", "CommentModel"."user_id" AS "userId", "CommentModel"."post_id" AS "postId", "user"."username" AS "user.username", "user"."id" AS "user.id" FROM "comments" AS "CommentModel" LEFT OUTER JOIN "users" AS "user" ON "CommentModel"."user_id" = "user"."id" WHERE "CommentModel"."user_id" IN ('e8f38b9c-ecbb-4a1a-bef8-30608cb87b89', '91c2f122-3666-4f4f-8f03-ab09d18e6056') ORDER BY "createdAt" DESC;
2023-08-23 23:46:45 info: [0mGET /users/top-users [32m200[0m 12.842 ms - 227[0m
2023-08-23 23:47:00 info: =================================
2023-08-23 23:47:00 info: ======= ENV: development =======
2023-08-23 23:47:00 info: ðŸš€ App listening on the port 3000
2023-08-23 23:47:00 info: =================================
2023-08-23 23:47:00 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:47:00 info: 4ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:47:00 info: 1ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:47:00 info: 10ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:47:00 info: 22ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:47:00 info: 10ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:47:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:47:00 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:47:00 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:47:00 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:47:00 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:47:00 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:47:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:47:00 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:47:00 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:47:00 info: 3ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:47:00 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:47:00 info: 7ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:47:00 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:47:00 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:47:00 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:47:00 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:47:00 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:47:00 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:47:00 info: 3ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:47:00 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:47:00 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:47:00 info: 7ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:47:00 info: 9ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:47:00 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:47:00 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:47:00 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:47:00 info: 1ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:47:00 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:47:00 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:47:00 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:47:00 info: 0ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:47:02 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:47:02 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:47:02 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:47:02 info: [0mGET /users/top-users [32m200[0m 32.478 ms - 439[0m
2023-08-23 23:47:04 info: 0ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:47:04 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:47:04 info: 2ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:47:04 info: [0mGET /users/top-users [32m200[0m 13.587 ms - 439[0m
2023-08-23 23:47:05 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:47:05 info: 0ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:47:05 info: 2ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:47:05 info: [0mGET /users/top-users [32m200[0m 9.562 ms - 439[0m
2023-08-23 23:47:06 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:47:06 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:47:06 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:47:06 info: [0mGET /users/top-users [32m200[0m 13.067 ms - 439[0m
2023-08-23 23:47:07 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:47:07 info: 0ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:47:07 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:47:07 info: [0mGET /users/top-users [32m200[0m 11.869 ms - 439[0m
2023-08-23 23:47:07 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:47:07 info: 0ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:47:07 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:47:07 info: [0mGET /users/top-users [32m200[0m 14.485 ms - 439[0m
2023-08-23 23:47:08 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:47:08 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:47:08 info: 2ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:47:08 info: [0mGET /users/top-users [32m200[0m 13.531 ms - 439[0m
2023-08-23 23:47:09 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:47:09 info: 0ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:47:09 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:47:09 info: [0mGET /users/top-users [32m200[0m 5.013 ms - 439[0m
2023-08-23 23:47:11 info: 0ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:47:11 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:47:11 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:47:11 info: [0mGET /users/top-users [32m200[0m 12.335 ms - 439[0m
2023-08-23 23:47:15 info: 0ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:47:15 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:47:15 info: 0ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:47:15 info: [0mGET /users/top-users [32m200[0m 7.305 ms - 439[0m
2023-08-23 23:52:30 info: =================================
2023-08-23 23:52:30 info: ======= ENV: development =======
2023-08-23 23:52:30 info: ðŸš€ App listening on the port 3000
2023-08-23 23:52:30 info: =================================
2023-08-23 23:52:30 info: 0ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:52:30 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:52:30 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:52:30 info: 7ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:52:30 info: 10ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:52:30 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:52:30 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:30 info: 6ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:52:30 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:52:30 info: 2ms Executed (default): CREATE UNIQUE INDEX "users_post_count" ON "users" ("post_count")
2023-08-23 23:52:30 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:52:30 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:52:30 info: 5ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:52:30 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:30 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:52:30 info: 3ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:52:30 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:52:30 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:52:30 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:52:30 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:52:30 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:52:30 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:52:30 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:52:30 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:52:33 info: =================================
2023-08-23 23:52:33 info: ======= ENV: development =======
2023-08-23 23:52:33 info: ðŸš€ App listening on the port 3000
2023-08-23 23:52:33 info: =================================
2023-08-23 23:52:33 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:52:33 info: 3ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:52:33 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:52:33 info: 11ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:52:33 info: 18ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:52:33 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:52:33 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:52:33 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:33 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:33 info: 4ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:33 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:52:33 info: 2ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:52:33 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:52:33 info: 8ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:52:33 info: 10ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:52:33 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:52:33 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:33 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:52:33 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:52:33 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:52:33 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:52:33 info: 7ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:52:33 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:52:33 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:52:33 info: 0ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:52:33 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:52:33 info: 1ms Executed (default): CREATE INDEX "comments_user_id_post_id_created_at" ON "comments" ("user_id", "post_id", "created_at")
2023-08-23 23:52:37 info: =================================
2023-08-23 23:52:37 info: ======= ENV: development =======
2023-08-23 23:52:37 info: ðŸš€ App listening on the port 3000
2023-08-23 23:52:37 info: =================================
2023-08-23 23:52:37 info: 1ms Executed (default): SELECT 1+1 AS result
2023-08-23 23:52:37 info: 5ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
2023-08-23 23:52:37 info: 2ms Executed (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
2023-08-23 23:52:37 info: 9ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'dev'
2023-08-23 23:52:37 info: 15ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
2023-08-23 23:52:37 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(45);
2023-08-23 23:52:37 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
2023-08-23 23:52:37 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "username" TYPE VARCHAR(255);
2023-08-23 23:52:37 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "online" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "online" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "online" TYPE BOOLEAN;
2023-08-23 23:52:37 info: 1ms Executed (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:37 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "logout_timestamp" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:37 info: 3ms Executed (default): ALTER TABLE "users" ALTER COLUMN "role" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'USER';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''USER'', ''ADMIN''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
2023-08-23 23:52:37 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:37 info: 0ms Executed (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:37 info: 2ms Executed (default): ALTER TABLE "users" ALTER COLUMN "post_count" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "post_count" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "post_count" TYPE BIGINT;
2023-08-23 23:52:37 info: 3ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:52:37 info: 1ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'posts'
2023-08-23 23:52:37 info: 7ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'posts' AND tc.table_catalog = 'dev'
2023-08-23 23:52:37 info: 8ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'posts' AND c.table_schema = 'public'
2023-08-23 23:52:37 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:52:37 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "title" TYPE TEXT;
2023-08-23 23:52:37 info: 1ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:37 info: 0ms Executed (default): ALTER TABLE "posts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "posts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "posts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:37 info: 1ms Executed (default): ALTER TABLE "posts" DROP CONSTRAINT "posts_user_id_fkey"
2023-08-23 23:52:37 info: 2ms Executed (default): ALTER TABLE "posts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:52:37 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'posts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:52:37 info: 0ms Executed (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'comments'
2023-08-23 23:52:37 info: 4ms Executed (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'comments' AND tc.table_catalog = 'dev'
2023-08-23 23:52:37 info: 4ms Executed (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'comments' AND c.table_schema = 'public'
2023-08-23 23:52:37 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "content" TYPE TEXT;
2023-08-23 23:52:37 info: 1ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:37 info: 0ms Executed (default): ALTER TABLE "comments" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "comments" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "comments" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
2023-08-23 23:52:37 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_user_id_fkey"
2023-08-23 23:52:37 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:52:37 info: 0ms Executed (default): ALTER TABLE "comments" DROP CONSTRAINT "comments_post_id_fkey"
2023-08-23 23:52:37 info: 1ms Executed (default): ALTER TABLE "comments"  ADD FOREIGN KEY ("post_id") REFERENCES "posts" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
2023-08-23 23:52:37 info: 1ms Executed (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'comments' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
2023-08-23 23:52:44 info: 3ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:52:44 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:52:44 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:52:44 info: [0mGET /users/top-users [32m200[0m 27.710 ms - 439[0m
2023-08-23 23:52:50 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:52:50 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:52:50 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:52:50 info: [0mGET /users/top-users [32m200[0m 17.460 ms - 439[0m
2023-08-23 23:55:47 error: [GET] /users/top-users >> StatusCode:: 401, Message:: Wrong authentication token
2023-08-23 23:55:47 info: [0mGET /users/top-users [33m401[0m 19.366 ms - 40[0m
2023-08-23 23:56:01 info: 7ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."email" = 'felixhope30@gmaail.com' LIMIT 1;
2023-08-23 23:56:01 info: 2ms Executed (default): UPDATE "users" SET "last_login"=$1,"online"=$2,"updated_at"=$3 WHERE "id" = $4; "2023-08-24 07:56:01.551 +09:00", true, "2023-08-24 07:56:01.551 +09:00", "e8f38b9c-ecbb-4a1a-bef8-30608cb87b89"
2023-08-23 23:56:01 info: [0mPOST /auth/login [32m200[0m 141.555 ms - 565[0m
2023-08-23 23:56:14 info: 2ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:56:14 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:56:15 info: 11ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:56:15 info: [0mGET /users/top-users [32m200[0m 51.188 ms - 439[0m
2023-08-23 23:56:17 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:56:17 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:56:17 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:56:17 info: [0mGET /users/top-users [32m200[0m 5.831 ms - 439[0m
2023-08-23 23:56:17 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:56:17 info: 0ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:56:17 info: 0ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:56:17 info: [0mGET /users/top-users [32m200[0m 10.561 ms - 439[0m
2023-08-23 23:56:18 info: 0ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:56:18 info: 0ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:56:18 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:56:18 info: [0mGET /users/top-users [32m200[0m 8.620 ms - 439[0m
2023-08-23 23:56:19 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:56:19 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:56:19 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:56:19 info: [0mGET /users/top-users [32m200[0m 10.806 ms - 439[0m
2023-08-23 23:56:19 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:56:19 info: 0ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:56:19 info: 0ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:56:19 info: [0mGET /users/top-users [32m200[0m 7.300 ms - 439[0m
2023-08-23 23:56:19 info: 1ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:56:19 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:56:19 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:56:19 info: [0mGET /users/top-users [32m200[0m 8.084 ms - 439[0m
2023-08-23 23:56:20 info: 0ms Executed (default): SELECT "id", "email", "password", "username", "online", "last_login" AS "lastLogin", "logout_timestamp" AS "logoutTimestamp", "role", "post_count" AS "postCount", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "UserModel" WHERE "UserModel"."id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89';
2023-08-23 23:56:20 info: 1ms Executed (default): SELECT "UserModel"."id", "UserModel"."username", "UserModel"."post_count" AS "postCount" FROM "users" AS "UserModel" ORDER BY "postCount" DESC LIMIT 3;
2023-08-23 23:56:20 info: 1ms Executed (default): SELECT "CommentModel".* FROM (SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = 'e8f38b9c-ecbb-4a1a-bef8-30608cb87b89' ORDER BY "createdAt" DESC LIMIT 1) AS sub UNION ALL SELECT * FROM (SELECT "id", "content", "created_at" AS "createdAt", "updated_at" AS "updatedAt", "user_id" AS "userId", "post_id" AS "postId" FROM "comments" AS "CommentModel" WHERE "CommentModel"."user_id" = '91c2f122-3666-4f4f-8f03-ab09d18e6056' ORDER BY "createdAt" DESC LIMIT 1) AS sub) AS "CommentModel";
2023-08-23 23:56:20 info: [0mGET /users/top-users [32m200[0m 7.240 ms - 439[0m
